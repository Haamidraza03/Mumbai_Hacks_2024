<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Email Generator</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100..700;1,100..700&display=swap');
    body{
        font-family: "Josefin Sans", sans-serif !important;

    }
    .clip{
    color: transparent;
    position: relative;
    background: linear-gradient(90deg, rgb(24, 139, 233) 0%, rgb(115, 213, 246) 100%);
    background-clip: text;
    -webkit-background-clip: text;
    }

.main-content {
    margin-left: 200px;
    padding: 20px;
    width: calc(100% - 200px);
}

header h1 {
    font-size: 26px;
    margin-bottom: 20px;
    animation: fadeIn 1s ease;
}

.card {
    border-radius: 8px;
    transition: transform 0.3s ease;
}

.card:hover {
    transform: translateY(-5px);
}

.card h3 {
    color: #3b82f6;
}

.analytics {
    animation: fadeIn 1.5s ease;
}

.chart {
    height: 180px;
    font-size: 18px;
    border-radius: 8px;
    animation: popIn 0.8s ease;
}

@keyframes slideIn {
    from {
        transform: translateX(-100%);
    }
    to {
        transform: translateX(0);
    }
}

@keyframes fadeIn {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

@keyframes popIn {
    0% {
        transform: scale(0);
    }
    100% {
        transform: scale(1);
    }
}
        ::-webkit-scrollbar{
        width: 10px !important;
        border-radius: 10px !important;
    }
    ::-webkit-scrollbar-track{
        background-color: whitesmoke !important;
        border-radius: 10px !important;

    }
    ::-webkit-scrollbar-thumb{
        border-radius: 10px !important;
        background-color: rgb(43, 171, 206) !important;
    }

    </style>
</head>
<body style="background-color: rgb(15, 0, 29);">
    <div class="container-fluid py-3">
        <p class="text-center clip mb-4 mt-5" style="font-size: 50px;">Marketing Dashboard</p>
        
        <!-- KPI Cards -->
        <div class="row text-center">
            <div class="col-md-3 mb-4">
                <div class="card p-4 shadow rounded-4 bg-dark text-info" data-aos="zoom-in" data-aos-duration="1300">
                    <div class="card-body">
                        <h5 class="card-title">Total Leads</h5>
                        <p class="stat-title m-0">5,480</p>
                    </div>
                </div>
            </div>
            
            <div class="col-md-3 mb-4">
                <div class="card p-4 shadow rounded-4 bg-dark text-info" data-aos="zoom-in" data-aos-duration="1500">
                    <div class="card-body">
                        <h5 class="card-title">Conversion Rate</h5>
                        <p class="stat-title m-0">3.8%</p>
                    </div>
                </div>
            </div>
            
            <div class="col-md-3 mb-4">
                <div class="card p-4 shadow rounded-4 bg-dark text-info" data-aos="zoom-in" data-aos-duration="1700">
                    <div class="card-body">
                        <h5 class="card-title">Customer Engagement</h5>
                        <p class="stat-title m-0">7,123</p>
                    </div>
                </div>
            </div>
            
            <div class="col-md-3 mb-4">
                <div class="card p-4 shadow rounded-4 bg-dark text-info" data-aos="zoom-in" data-aos-duration="1900">
                    <div class="card-body">
                        <h5 class="card-title">Revenue</h5>
                        <p class="stat-title m-0">$56,400</p>
                    </div>
                </div>
            </div>
        </div>
        <p class="p-0 text-center mt-5" style="font-size: 50px;"><span class="auto-type clip"></span></p>
        <p class="p-0 text-center clip mb-5" style="font-size: 50px;" data-aos="zoom-in" data-aos-duration="1300" data-aos-easing="ease-in-out">Email Generator for Marketing</p>
        <div class="row justify-content-center text-white">
              <header>
                <h1>Marketing & Analytics Dashboard</h1>
              </header>
              
              <section class="cards row mt-4">
                <div class="col-md-4">
                  <div class="card bg-dark shadow-sm" id="email">
                    <div class="card-body text-center">
                      <h3>Email Campaigns</h3>
                      <p class="fs-5 text-white">Open Rate: <span id="emailRate">72%</span></p>
                    </div>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="card  bg-dark shadow-sm" id="sms">
                    <div class="card-body text-center">
                      <h3>SMS Campaigns</h3>
                      <p class="fs-5 text-white">Click Rate: <span id="smsRate">50%</span></p>
                    </div>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="card  bg-dark shadow-sm" id="social">
                    <div class="card-body text-center">
                      <h3>Social Media</h3>
                      <p class="fs-5 text-white">Engagement: <span id="socialEngagement">85%</span></p>
                    </div>
                  </div>
                </div>
              </section>
        
              <section class="analytics mt-4">
                <h2>Analytics</h2>
                <div class="chart bg-success d-flex align-items-center justify-content-center p-4 mt-3 mb-3">
                  <p class="fs-4 text-black">Loading Chart...</p>
                </div>
              </section>
          </div>
        <div class="row justify-content-center">
            <div class="col-md-5 text-white">
                <div class="card bg-dark shadow rounded-4 mt-4"data-aos="zoom-in" data-aos-duration="1500" data-aos-easing="ease-in-out">
                    <div class="card-body p-4">
                        <form method="POST" action="/">
                            <div class="mb-3">
                                <label for="email_topic" class="form-label text-white fs-5">Email Topic:</label>
                                <input type="text" id="email_topic" name="email_topic" class="form-control" value="{{ email_topic }}" placeholder="Enter email topic" required>
                            </div>
                            <div class="mb-3">
                                <label for="product_description" class="form-label text-white fs-5">Product Description:</label>
                                <textarea id="product_description" name="product_description" class="form-control" rows="4" placeholder="Describe the product" required>{{ product_description }}</textarea>
                            </div>
                            <center><button type="submit" class="btn btn-outline-info w-50 text-center fs-5 rounded-4 px-2 m-0">Generate Email</button></center>
                        </form>
                    </div>
                </div>
            </div>
            <div class="col-md-5">
                <h2 class="text-white mb-1">Generated Email:</h2>
                {% if email_text %}
                        <div style="overflow-y: scroll;
                        height: 330px !important;
                    ">
                            <div class="result p-3 bg-dark rounded-4">
                                <p class="text-justify fs-5 text-white" style="white-space: pre-wrap;">{{ email_text }}</p>
                            </div>
                        </div>
                {% endif %}
            </div>
        </div>
        <!-- Chatbot Button -->
<div id="chat-button" onclick="toggleChat()" style="position: fixed; bottom: 40px; right: 40px; z-index: 1000; cursor: pointer;">
    <img src="{{ url_for('static', filename='images/cbot.png') }}" alt="Chat" width="70" height="70">
</div>

<!-- Chatbot iframe -->
<iframe id="chat-iframe"
    src="https://cdn.botpress.cloud/webchat/v2.2/shareable.html?configUrl=https://files.bpcontent.cloud/2024/10/25/18/20241025184326-122M3DCF.json"
    style="position: fixed; bottom: 40px; right: 40px; width: 340px; height: 500px; border: none; display: none; background: transparent; z-index: 999;">
</iframe>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
    <script>
        AOS.init({once:"true"});
    </script>
    <script>
        function toggleChat() {
            const iframe = document.getElementById("chat-iframe");
            const isIframeVisible = iframe.style.display === "block";
            
            // Toggle the iframe's display and set background to transparent
            iframe.style.display = isIframeVisible ? "none" : "block";
            iframe.style.background = "none";
        }
    </script>
    <script src="https://unpkg.com/typed.js@2.0.16/dist/typed.umd.js"></script>
    <script>
        var typed = new Typed(".auto-type", {
          strings: ["Welcome to"],
          typeSpeed: 120,
          backSpeed: 40,
        })
    </script>
    <script>
        let emailOpenRate = 72;
let smsClickRate = 50;
let socialEngagement = 85;

function updateRates() {
  document.getElementById("emailRate").textContent = `${emailOpenRate++}%`;
  document.getElementById("smsRate").textContent = `${smsClickRate++}%`;
  document.getElementById("socialEngagement").textContent = `${socialEngagement++}%`;

  if (emailOpenRate > 80) emailOpenRate = 72;
  if (smsClickRate > 60) smsClickRate = 50;
  if (socialEngagement > 90) socialEngagement = 85;
}

setInterval(updateRates, 2000);

setTimeout(() => {
  const chart = document.getElementById("chart");
  chart.innerHTML = "<p>Chart Loaded: Real-time Engagement Stats</p>";
  chart.style.backgroundColor = "#4ade80";
}, 3000);

    </script>
</body>
</html>